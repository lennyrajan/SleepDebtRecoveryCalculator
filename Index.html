<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="google-site-verification" content="AOiTGI_SnsG9S2IfTSFuHc4RVun0iFu8mgcWKqJVYqc" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Find your weekly sleep debt and plan recovery. Understand your sleep deficit and how to fix it with our simple Sleep Debt Calculator." />
  <title>Sleep Debt Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 20px; background: #f5f5f5; color: #222;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1, h2 {
      text-align: center;
      color: #333;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input[type=number] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
      font-size: 16px;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover {
      background: #0056b3;
    }
    .results {
      margin-top: 20px;
      padding: 15px;
      background: #e6f7ff;
      border-left: 5px solid #1890ff;
      border-radius: 6px;
      font-size: 18px;
    }
    .fatigue {
      font-weight: bold;
      font-size: 20px;
      margin-top: 10px;
    }
    .tips, .seo-text, .faq {
      margin-top: 30px;
      background: #fafafa;
      border-radius: 8px;
      padding: 15px;
      font-size: 16px;
      line-height: 1.4;
      border: 1px solid #ddd;
    }
    .share-buttons {
      margin-top: 15px;
      text-align: center;
    }
    .share-buttons button {
      width: auto;
      margin: 0 10px;
      padding: 10px 20px;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }
    details {
      margin-top: 10px;
      cursor: pointer;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 6px;
      background: white;
    }
    summary {
      font-weight: bold;
      font-size: 16px;
    }
    #darkModeToggle {
      position: absolute;
      top: 10px;
      right: 20px;
      width: auto;
      display: inline-block;
      padding: 6px 12px;
      font-size: 18px;
      background: transparent;
      border: none;
      cursor: pointer;
      z-index: 999;
      user-select: none;
    }
    body.dark {
      background: #121212;
      color: #f0f0f0;
    }
    body.dark input,
    body.dark select {
      background: #222;
      color: #f0f0f0;
      border-color: #444;
    }
    body.dark .container {
      background: #1e1e1e;
    }
    body.dark .results {
      background: #263238;
      border-left-color: #90caf9;
    }
    body.dark .tips,
    body.dark .seo-text,
    body.dark .faq {
      background: #1a1a1a;
      border-color: #333;
    }
  </style>
</head>
<body id="body">
  <button id="darkModeToggle" aria-label="Toggle dark mode">üåô</button>
  <div class="container">

    <div style="text-align:center; margin-bottom: 10px;">
      <span style="font-weight:bold; font-size: 24px; color:#007bff;">üí§ SleepCalc</span>
    </div>
    <h1>Sleep Debt Calculator</h1>
    <p style="text-align:center; font-size: 16px; color: #555; margin-top: -10px;">
      Quickly find out how much sleep you‚Äôve missed this week ‚Äî and how to catch up.
    </p>

    <label for="ideal">Ideal Sleep (hours/night)</label>
    <input type="number" id="ideal" value="8" min="1" max="12" />

    <div id="days"></div>

    <button id="calcBtn">Calculate Sleep Debt</button>

    <div class="results" id="results" style="display:none;">
      <p>Total Sleep Debt: <span id="debt"></span> hours</p>
      <p>Recommended Recovery Sleep: <span id="recovery"></span> hours</p>
      <p class="fatigue">Fatigue Risk Level: <span id="fatigue"></span></p>

      <div class="share-buttons">
        <button id="shareTwitter" aria-label="Share on X">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 120 120" fill="black">
            <path d="M75.3 14.2h33.4L72.2 55.4 112.3 106H82.7L58.3 74.4 29.5 106H-1.9l40.6-44.2L1.3 14.2h31.4l23.1 28.6 19.5-28.6z"/>
          </svg>
          Share on X
        </button>
        <button id="shareWhatsApp" aria-label="Share on WhatsApp">üí¨ Share on WhatsApp</button>
      </div>
    </div>

    <div class="tips">
      <h2>How to Use These Results</h2>
      <p>Your total sleep debt shows how many hours you missed compared to your ideal sleep this week. The recovery sleep suggests extra hours you should add over the next few days to feel rested. Try to avoid accumulating large sleep debts regularly to maintain focus, mood, and health.</p>
    </div>

    <div class="seo-text">
      <h2>Why Sleep Debt Matters</h2>
      <p>Sleep debt accumulates when you sleep less than your body needs. Chronic sleep debt can impair memory, immune function, and increase the risk of many diseases. Catching up on sleep by sleeping extra on some days can help, but consistent good sleep habits are best.</p>
    </div>

    <div class="faq">
      <h2>FAQ</h2>
      <details><summary>What is sleep debt?</summary><p>Sleep debt is the difference between the amount of sleep your body needs and the actual sleep you get.</p></details>
      <details><summary>Can I catch up on sleep during weekends?</summary><p>Yes, catching up helps reduce sleep debt, but regular consistent sleep is healthier.</p></details>
      <details><summary>What happens if I ignore sleep debt?</summary><p>Ignoring sleep debt can cause poor concentration, mood issues, and long-term health risks.</p></details>
    </div>

    <p style="text-align:center; font-size:14px; color:#888; margin-top:40px;">
      Built with ‚òï by Lenny Rajan
    </p>

    <p style="text-align:center; font-size:13px; color:#aaa;" id="visitCount">
      üëÅÔ∏è Visitors: <span id="fakeVisitorCount">3207</span>
    </p>
  </div>

  <script>
    // Generate sleep inputs
    const daysOfWeek = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];
    const daysDiv = document.getElementById('days');

    daysOfWeek.forEach(day => {
      const label = document.createElement('label');
      label.innerText = `${day} Sleep (hours)`;
      const input = document.createElement('input');
      input.type = 'number';
      input.min = '0';
      input.max = '24';
      input.value = '7';
      input.id = day.toLowerCase();
      daysDiv.appendChild(label);
      daysDiv.appendChild(input);
    });

    document.getElementById('calcBtn').addEventListener('click', calculateDebt);

    function calculateDebt() {
      const ideal = parseFloat(document.getElementById('ideal').value);
      let totalDebt = 0;
      daysOfWeek.forEach(day => {
        const hours = parseFloat(document.getElementById(day.toLowerCase()).value);
        totalDebt += Math.max(0, ideal - hours);
      });
      const recovery = totalDebt * 1.25;
      const fatigue = totalDebt <= 5 ? 'Low' : totalDebt <= 10 ? 'Moderate' : 'High';
      document.getElementById('debt').innerText = totalDebt.toFixed(1);
      document.getElementById('recovery').innerText = recovery.toFixed(1);
      document.getElementById('fatigue').innerText = fatigue;
      document.getElementById('results').style.display = 'block';
      updateShareLinks(totalDebt, recovery, fatigue);
    }

    function updateShareLinks(debt, recovery, fatigue) {
      const tweetText = encodeURIComponent(
        `I just calculated my weekly sleep debt: ${debt.toFixed(1)} hours. Recommended recovery: ${recovery.toFixed(1)} hours. Fatigue risk: ${fatigue}. Try it here: https://sleepdebtrecoverycalculator.netlify.app`
      );
      const whatsappText = encodeURIComponent(
        `My weekly sleep debt is ${debt.toFixed(1)} hours. Recovery sleep needed: ${recovery.toFixed(1)} hours. Risk level: ${fatigue}. Check yours: https://sleepdebtrecoverycalculator.netlify.app`
      );
      document.getElementById('shareTwitter').onclick = () => window.open(`https://twitter.com/intent/tweet?text=${tweetText}`, '_blank');
      document.getElementById('shareWhatsApp').onclick = () => window.open(`https://api.whatsapp.com/send?text=${whatsappText}`, '_blank');
    }

    // Dark mode toggle
    const toggleBtn = document.getElementById('darkModeToggle');
    const body = document.getElementById('body');
    const darkPref = localStorage.getItem('darkMode');

    function updateToggleIcon(enabled) {
      toggleBtn.innerText = enabled ? '‚òÄÔ∏è' : 'üåô';
    }

    if (darkPref === 'enabled') {
      body.classList.add('dark');
      updateToggleIcon(true);
    } else {
      updateToggleIcon(false);
    }

    toggleBtn.addEventListener('click', () => {
      body.classList.toggle('dark');
      const enabled = body.classList.contains('dark');
      updateToggleIcon(enabled);
      localStorage.setItem('darkMode', enabled ? 'enabled' : 'disabled');
    });

    // Fake visitor counter logic
    const visitorKey = 'sleepcalc_fake_visitor_count';
    let count = parseInt(localStorage.getItem(visitorKey)) || 3073;
    const randomIncrement = Math.floor(Math.random() * 3) + 1;
    count += randomIncrement;
    document.getElementById('fakeVisitorCount').innerText = count.toLocaleString();
    localStorage.setItem(visitorKey, count);
  </script>
</body>
</html>
